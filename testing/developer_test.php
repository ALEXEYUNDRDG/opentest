<?php

    require_once "blocks/header.php";
?>
<h1> Задание 1</h1>
<?php
    /*

    $result = [];
    foreach ($data as $value){
        $name = $value[0];
        $subject = $value[1];
        $score = $value[2];
        if(!isset($result[$name])){
            $result[$name]=[];
        } if(!isset($result[$name][$subject])){
            $result[$name][$subject]=0;
        }
        $result[$name][$subject]+=$score;


    }

    //ksort($subject);

    foreach($result as &$subject){
        ksort($subject);
    }

    echo "<table border='1'>";
    echo "<tr><th>Имя</th><th>Предмет</th><th>Баллы</th></tr>";

    foreach($result as $name => $subjects){
        foreach($subjects as $subject => $totalScore){
            echo "<tr>";
            echo "<td>$name</td>";
            echo "<td>$subject</td>";
            echo "<td>$totalScore</td>";
            echo "</tr>";
        }
    }

    echo "</table>";*/

    $data = [
        ['Иванов', 'Математика', 5],
        ['Иванов', 'Математика', 4],
        ['Иванов', 'Математика', 5],
        ['Петров', 'Математика', 5],
        ['Сидоров', 'Физика', 4],
        ['Иванов', 'Физика', 4],
        ['Петров', 'ОБЖ', 4],
    ];
    $results = [];
    foreach ($data as $entry) { $name = $entry[0];
        $subject = $entry[1]; $score = $entry[2];
        if (!isset($results[$name])) {
            $results[$name] = [];
        }
        if (!isset($results[$name][$subject])) {
            $results[$name][$subject] = 0;
        }
        $results[$name][$subject] += $score; }
        ksort($results);
        foreach ($results as &$subjects) {
            ksort($subjects);
        }



        echo "<table border='1' cellspacing='1' cellpadding='1'>";
        echo "<tr><th>Имя</th><th>Предмет</th><th>Баллы</th></tr>";

        foreach ($results as $name => $subjects) {
            foreach ($subjects as $subject => $totalScore) {
                echo "<tr>";
                echo "<td>$name</td>";
                echo "<td>$subject</td>";
                echo "<td>$totalScore</td>";
                echo "</tr>";
            }
        }
        echo "</table>";
?>
