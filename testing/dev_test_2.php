<?php

require_once "blocks/header.php";
$config = require_once "config.php";
require_once 'func.php';

//var_dump($db);
?>
<body>
<div class="container">
    <div class="row">
        <div class="col-4">
            <h1>Задание 2</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-16">
            <h2>~~~~~~~~~~~~~~~~~~~~~~</h2>
            <h2>АТЛАНТ РАСПРАВИЛ ПЛЕЧИ</h2>
            <h2>~~~~~~~~~~~~~~~~~~~~~~</h2>

            <div class="row-6">
                <div class="col-4">
                    <p class="text-end">"— Франсиско, а кто среди людей является самым низменным?</p>
                    <p class="text-end">— Человек, не имеющий цели." </p>
                </div>


            </div>
            <div class="row-6">
                <div class="col-8">
                    <p> Человеконенавистническое повествование через ложный выбор</p>
                    <p>Сколько книг было перечитано, но ни разу еще я не испытывал такого отвращения при чтении. Впервые что-то побудило меня написать отзыв о книге, которая почему-то считается современной классикой и претендует на философское направление мысли. Дочитал ее преодолевая рвотные позывы только для того что бы иметь полное право составить окончательное мнение о ней. Да что там, даже писать отзыв о ней мучительно, поскольку нужно вспоминать, что именно в ней оттолкнуло. Поэтому не судите строго за грамматические ошибки, стараюсь быстрее расправиться с этим вопросом.</p>

                    <p>Во- первых книга напичкана тезисами, представляющими из себя «запрещенный прием» из психологии воздействия на человека называемый «ложный выбор», что не может не возмутить читателя с критическим мышлением, причем «напичкивание» это настолько навязчиво, что смахивает на сектантскую методичку. Чего стоит радио-монолог Джона Гальта (или Гольда?) на десятки страниц в котором он повторяет один и тот же тезис разными словами, что бы внедрить в сознание читающего свою мысль как истину, не требующую никаких доказательств. Иронично, что книга, номинально взывающая к разуму и «людям разума» сама разумными доводами не располагает, а располагает лишь пресловутым ложным выбором. «А – есть А»(с). Окай, допустим, где остальные буквы Гольд?</p>

                    <p>Во-вторых, учитывая вышесказанное, книга обречена на последующие логические ошибки, которые автор даже не пытается лакировать, например, четко сегрегирует общество на «гениев мысли» и темное тупое стадо, которое не может ничего, даже протестовать, требовать что-то и выбирать, пока не окажется на самом дне. Сегрегация является закономерным последствием заложенных в основу книги предпосылок, которые книга призывает перепроверять, но опять же, сама этого не делает. Проще говоря «гений мысли» Гоальт решился на бунт из предпосылок, что общество – тупое стадо. Где эта предпосылка прошла проверку? Нигде, это просто аксиома, которая прошла проверку лишь тем, что победителей не судят. А между тем, эта предпосылка - краеугольный камень, который убедил всех гениев вокруг поступить также. Философия? Фантастика!</p>

                    <p>В-третьих, мне как экономисту по образованию было совсем странно слушать, как по Рэнд устроена экономика, например, взаимоотношения в мировой экономике, отсутствие альтернатив для капитала, технологий и логистики из других стран, «избранность экономики США». Таких допущений ну очень уж много, не будем вдаваться в подробности, возможно, это чисто профессиональная деформация, но для меня сильно сказалось на впечатлениях о книге, словно действия происходят не в нашем Мире, а в каком-то другом, выдуманном, фентезийном что ли.</p>

                    <p>В-четвертых, в книге есть сразу три романтические линии героини, которые выглядят абсолютно притворно, фальшиво и наигранно. Возможно Рэнд писала про себя, про свое альтер-эго и просто не смогла как это часто бывает у женщин-писательниц внятно описать почему она поменяла одного любовника на другого, но скорее всего это всего лишь очередное последствие человеко - ненавистнического стиля повествования автора среди которого романтизм уж очень чужероден.</p>

                    <p>Дальше список можно было бы продолжить еще не одним пунктом, но я считаю этого уже достаточно, чтобы занять первое место моих самых нелюбимых произведений «литературы» и отправиться в мусорную корзину. А популярность произведения объяснятся простым маркетингом, бесплатным распространением книги по всему Миру через множество фондов наших благодетелей – лоббистов. Отсутствие внятных экранизаций «шедевра» также является следствием отсутствия хоть капли разумности в данном повествовании.</p>

                    <p>Спасибо за внимание.</p>

                    Подробнее: https://www.labirint.ru/reviews/goods/293406/
                </div>
            </div>

        </div>
    </div>
    <div class="col-10">
        <div class="table-responsive my-3">
            <table class="table table-hover">
                <thead>
                <h3>Отзывы к статье: </h3>
                </thead>
                <tbody>
                <tr>
                    <th scope="col"></th>
                    <th scope="col"></th>
                    <th scope="col"></th>

                </tr>
                <?php foreach ($result as $comment): ?>
                <tr id="comment-<?=$comment['id'] ?>">
                    <th scope="row"><?= $comment['id'] ?></th>
                    <td><?= $comment['name'] ?></td>
                    <td><?= $comment['description'] ?></td>
                    <td><?= $comment['date'] ?></td>
                    <td>

                        <button type="button" class="btn btn-primary" data-bs-id="<?=$comment['id']?>" data-bs-toggle="modal" data-bs-target="#editModal<?=$comment['id']?>">
                            Update
                        </button>
                        <button type="button" class="btn btn-danger" data-bs-id="<?=$comment['id']?>" data-bs-toggle="modal" data-bs-target="#deleteModal<?=$comment['id']?>">
                            Delete
                        </button>

                    </td>
                </tr>
                    <div class="modal fade" id="editModal<?=$comment['id'] ?>" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="editModalLabel">Редактировать запись № <?=$comment['id'] ?> </h5>
                                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <form action="?id=<?=$comment['id'] ?>" method="post">
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="edit_name" value="<?=$comment['name'] ?>" placeholder="Имя">
                                        </div>
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="edit_description" value="<?=$comment['description'] ?>" placeholder="Описание">
                                        </div>
                                        <div class="modal-footer">
                                            <button type="submit" name="edit-submit" class="btn btn-primary">Обновить</button>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal fade" id="deleteModal<?=$comment['id'] ?>" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="deleteModalLabel">Удалить запись №<?=$comment['id'] ?></h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body"></div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                                    <form action="?id=<?=$comment['id'] ?>" method="post">
                                        <button type="submit" name="delete_submit" class="btn btn-danger">Удалить</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>



                <?php endforeach; ?>
                </tbody>

            </table>
        </div>
    </div>



    <form action="" method="post">
        <label for="exampleFormControlTextarea1" class="form-label">Оставить комментарий </label>
        <div class="form-group">
            <input type="text" class="form-control" name="id" value="" placeholder="id"/>
        </div>
        <div class="form-group">
            <input type="text" class="form-control" name="name" value="" placeholder="Ваше имя"/>
        </div>
        <div class="form-group">

                <textarea class="form-control"  name="description" rows="3" placeholder="Ваш комментарий"></textarea>

        </div>
        <div class="form-group">
            <input type="text" class="form-control" name="date" value="" placeholder="Дата"/>
        </div>
        <button class="btn btn-primary my-5" name="submit" data-bs-target="#addComment">Добавить комментарий</button>
    </form>
</div>

</body>

<?php
